$(function () {

    $('.header-slider').slick({
        prevArrow: '<div class="arrow arrow-left"><img class="arrow-prev" src="images/arrow.png" alt=""></div>',
        nextArrow: '<div class="arrow arrow-right"><img class="arrow-next" src="images/arrow.png" alt=""></div>',
        autoplay: true,
        autoplaySpeed: 3000,
        speed: 2000,
        dots: true,
    });

    $(function () {
        var items = $(".latest-posts__items .latest-posts__item");
        var numItems = items.length;
        var perPage = 5;

        items.slice(perPage).hide();

        $('#pagination-container').pagination({
            items: numItems,
            itemsOnPage: perPage,
            prevText: '<button class="pagination-prev__btn">← Previous</button>',
            nextText: '<button class="pagination-next__btn">next →</button>',
            onPageClick: function (pageNumber) {
                var showFrom = perPage * (pageNumber - 1);
                var showTo = showFrom + perPage;
                items.hide().slice(showFrom, showTo).show();
                $('body,html').animate({
                    scrollTop: 0
                }, 1200);
                return false;
            }
        });
    });

    $('.sidebar-most__list-item1').on('click', function () {
        $(this).addClass('active').siblings().removeClass('active');
        $('.most1').addClass('active').siblings().removeClass('active');
    });
    $('.sidebar-most__list-item2').on('click', function () {
        $(this).addClass('active').siblings().removeClass('active');
        $('.most2').addClass('active').siblings().removeClass('active');
    });

    $('.gallery-slider').slick({
        slidesToScroll: 1,
        slidesToShow: 3,
        variableWidth: true,
        arrows: false,
        autoplay: true,
        autoplaySpeed: 3000,
        draggable: false,
        speed: 2000,
        centerMode: true,
        responsive: [
            {
                breakpoint: 1200,
                settings: 'unslick'
            },
        ]
    });

    $(function () {
        $(".index-item").slice(0, 8).addClass('display');
        $(".load-more__btn").on('click', function (e) {
            e.preventDefault();
            $(".index-item:hidden").slice(0, 8).addClass('display');
            if ($(".index-item:hidden").length == 0) {
                $(".load-more__btn").remove();
            }
        });
    });

    $('.item-card__ingredients .ingredients-list__item').on('click', function () {
        $(this).toggleClass('active');
    });

    $('.jump-to-recipe').on('click', function () {
        var position = $(".item-card").offset().top;
        $('body,html').animate({
            scrollTop: position
        }, 1200);
        return false;
    });

    $('.print-recipe,.post-print__link').on('click', function () {
        $('.item-card').print({
            noPrintSelector: ".post-print, .post-share",
        });
    });

    $(".index-search .search-box").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $(".index-posts__item").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    $(".index-search .search-submit").on("click", function () {
        var value = $(this).val().toLowerCase();
        $(".index-posts__item").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });

    let filter = $("[data-filter]");

    filter.on('click', function(event){
        event.preventDefault();
        let cat = $(this).data('filter');

        if(cat == 'All'){
            $("[data-cat]").removeClass('hide')
        }else{
            $("[data-cat]").each(function(){
                let workCat = $(this).data('cat');
                
                if(workCat != cat){
                    $(this).addClass('hide')
                }else{
                    $(this).removeClass('hide')
                }
            });
        }
    });

    $('.burger-btn').on('click', function(e){
        e.preventDefault();
        $(this).toggleClass('clicked');
        $('.mini-navbar__body').toggleClass('open')
    });

    $('.mini-menu__list-item span').on('click', function(e){
        $('.sub-menu').toggleClass('open')
    });

    $('.index-categories__item-link').on('click', function () {
        var position = $(".main__inner-left").offset().top;
        $('body,html').animate({
            scrollTop: position
        }, 1200);
        return false;
    });

});

